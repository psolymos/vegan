<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Support Functions for Drawing Vectors — ordiArrowTextXY • vegan</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Support Functions for Drawing Vectors — ordiArrowTextXY" />
<meta property="og:description" content="Support functions to assist with drawing of vectors (arrows) on
  ordination plots. ordiArrowMul finds the multiplier for the
  coordinates of the head of the vector such that they occupy
  fill proportion of the plot region. ordiArrowTextXY
  finds coordinates for the locations of labels to be drawn just
  beyond the head of the vector." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">vegan</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.6.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/FAQ-vegan.html">UNKNOWN TITLE</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/vegandevs/vegan">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Support Functions for Drawing Vectors</h1>
    
    <div class="hidden name"><code>ordiArrowTextXY.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Support functions to assist with drawing of vectors (arrows) on
  ordination plots. <code>ordiArrowMul</code> finds the multiplier for the
  coordinates of the head of the vector such that they occupy
  <code>fill</code> proportion of the plot region. <code>ordiArrowTextXY</code>
  finds coordinates for the locations of <code>labels</code> to be drawn just
  beyond the head of the vector.</p>
    </div>

    <pre class="usage"><span class='fu'>ordiArrowTextXY</span>(<span class='no'>x</span>, <span class='no'>labels</span>, <span class='no'>display</span>, <span class='kw'>choices</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>,<span class='fl'>2</span>),
                <span class='kw'>rescale</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>fill</span> <span class='kw'>=</span> <span class='fl'>0.75</span>, <span class='kw'>at</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0</span>,<span class='fl'>0</span>), <span class='no'>...</span>)
<span class='fu'>ordiArrowMul</span>(<span class='no'>x</span>, <span class='kw'>at</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0</span>,<span class='fl'>0</span>), <span class='kw'>fill</span> <span class='kw'>=</span> <span class='fl'>0.75</span>,
             <span class='no'>display</span>, <span class='kw'>choices</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1</span>,<span class='fl'>2</span>), <span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>An R object, from which <code><a href='scores.html'>scores</a></code> can determine
    suitable ordination scores or an object created by
    <code><a href='envfit.html'>envfit</a></code>, or a two-column matrix of coordinates of arrow
    heads on the two plot axes.</p></td>
    </tr>
    <tr>
      <th>labels</th>
      <td><p>Change plotting labels. A character vector of labels for
    which label coordinates are sought. If not supplied, these will be
    determined from the row names of <code>x</code>, or <code><a href='scores.html'>scores(x, ...)</a></code>
    if required. If either of these are not defined, suitable labels
    will be generated.</p></td>
    </tr>
    <tr>
      <th>display</th>
      <td><p>a character string known to <code><a href='scores.html'>scores</a></code> or one
    of its methods which indicates the type of scores to extract. In
    fitting functions these are ordinary site scores or linear
    combination scores (<code>"lc"</code>) in constrained ordination
    (<code><a href='cca.html'>cca</a></code>, <code><a href='cca.html'>rda</a></code>, <code><a href='capscale.html'>capscale</a></code>). If
    <code>x</code> was created by <code>envfit</code> then <code>display</code> can not be
    set by the user and takes the value <code>"vectors"</code>. Ignored if
    <code>x</code> is a matrix.</p></td>
    </tr>
    <tr>
      <th>choices</th>
      <td><p>Axes to be plotted.</p></td>
    </tr>
    <tr>
      <th>rescale</th>
      <td><p>logical; should the coordinates in or extracted from
    <code>x</code> be rescaled to fill <code>fill</code> proportion of the plot
    region? The default is to always rescale the coordinates as this is
    usually desired for objects <code>x</code> from which coordinates are
    retrieved. If supplying <code>x</code> a 2-column matrix that has already
    been rescaled, then set this to <code>FALSE</code>.</p></td>
    </tr>
    <tr>
      <th>fill</th>
      <td><p>numeric; the proportion of the plot to fill by the span of
    the arrows.</p></td>
    </tr>
    <tr>
      <th>at</th>
      <td><p>The origin of fitted arrows in the plot.  If you plot arrows
    in other places than origin, you probably have to specify
    <code>arrrow.mul</code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Parameters passed to <code><a href='scores.html'>scores</a></code>, and
    <code><a href='https://rdrr.io/r/graphics/strwidth.html'>strwidth</a></code> and <code><a href='https://rdrr.io/r/graphics/strwidth.html'>strheight</a></code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>ordiArrowMul</code> finds a multiplier to scale a bunch of
  arrows to fill an ordination plot, and <code>ordiArrowTextXY</code> finds
  the coordinates for labels of these arrows. NB.,
  <code>ordiArrowTextXY</code> does not draw labels; it simply returns
  coordinates at which the labels should be drawn for use with another
  function, such as <code><a href='https://rdrr.io/r/graphics/text.html'>text</a></code>.</p>
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>For <code>ordiArrowTextXY</code>, a 2-column matrix of coordinates for the
  label centres in the coordinate system of the currently active
  plotting device.</p>
<p>For <code>ordiArrowMul</code>, a length-1 vector containing the scaling
  factor.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>    <span class='co'>## Scale arrows by hand to fill 80% of the plot</span>
    <span class='co'>## Biplot arrows by hand</span>
    <span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span>(<span class='no'>varespec</span>, <span class='no'>varechem</span>)
    <span class='no'>ord</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='cca.html'>cca</a></span>(<span class='no'>varespec</span> ~ <span class='no'>Al</span> + <span class='no'>P</span> + <span class='no'>K</span>, <span class='no'>varechem</span>)
    <span class='fu'><a href='https://rdrr.io/r/graphics/plot.html'>plot</a></span>(<span class='no'>ord</span>, <span class='kw'>display</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"species"</span>,<span class='st'>"sites"</span>))</div><div class='input'>
    <span class='co'>## biplot scores</span>
    <span class='no'>bip</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='scores.html'>scores</a></span>(<span class='no'>ord</span>, <span class='kw'>choices</span> <span class='kw'>=</span> <span class='fl'>1</span>:<span class='fl'>2</span>, <span class='kw'>display</span> <span class='kw'>=</span> <span class='st'>"bp"</span>)

    <span class='co'>## scaling factor for arrows to fill 80% of plot</span>
    (<span class='no'>mul</span> <span class='kw'>&lt;-</span> <span class='fu'>ordiArrowMul</span>(<span class='no'>bip</span>, <span class='kw'>fill</span> <span class='kw'>=</span> <span class='fl'>0.8</span>))</div><div class='output co'>#&gt; [1] 2.074233</div><div class='input'>    <span class='no'>bip.scl</span> <span class='kw'>&lt;-</span> <span class='no'>bip</span> * <span class='no'>mul</span>                    <span class='co'># Scale the biplot scores</span>
    <span class='no'>labs</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>rownames</a></span>(<span class='no'>bip</span>)                   <span class='co'># Arrow labels</span>

    <span class='co'>## calculate coordinate of labels for arrows</span>
    (<span class='no'>bip.lab</span> <span class='kw'>&lt;-</span> <span class='fu'>ordiArrowTextXY</span>(<span class='no'>bip.scl</span>, <span class='kw'>rescale</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>labels</span> <span class='kw'>=</span> <span class='no'>labs</span>))</div><div class='output co'>#&gt;          [,1]       [,2]
#&gt; Al  1.8804734 -0.3507570
#&gt; P  -0.9168309 -1.6419845
#&gt; K  -0.9931606 -0.3713207</div><div class='input'>
    <span class='co'>## draw arrows and text labels</span>
    <span class='fu'><a href='https://rdrr.io/r/graphics/arrows.html'>arrows</a></span>(<span class='fl'>0</span>, <span class='fl'>0</span>, <span class='no'>bip.scl</span>[,<span class='fl'>1</span>], <span class='no'>bip.scl</span>[,<span class='fl'>2</span>], <span class='kw'>length</span> <span class='kw'>=</span> <span class='fl'>0.1</span>)</div><div class='input'>    <span class='fu'><a href='https://rdrr.io/r/graphics/text.html'>text</a></span>(<span class='no'>bip.lab</span>, <span class='kw'>labels</span> <span class='kw'>=</span> <span class='no'>labs</span>)</div><div class='img'><img src='ordiArrowTextXY-1.png' alt='' width='700' height='433' /></div><div class='input'>
    <span class='co'>## Handling of ordination objects directly</span>
    <span class='no'>mul2</span> <span class='kw'>&lt;-</span> <span class='fu'>ordiArrowMul</span>(<span class='no'>ord</span>, <span class='kw'>display</span> <span class='kw'>=</span> <span class='st'>"bp"</span>, <span class='kw'>fill</span> <span class='kw'>=</span> <span class='fl'>0.8</span>)
    <span class='fu'><a href='https://rdrr.io/r/base/stopifnot.html'>stopifnot</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/all.equal.html'>all.equal</a></span>(<span class='no'>mul</span>, <span class='no'>mul2</span>))</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Jari Oksanen, with modifications by Gavin L. Simpson</p>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Jari Oksanen.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


